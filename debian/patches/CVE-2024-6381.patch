From effd95c34ad421df94eec7c69236f0e4172552d0 Mon Sep 17 00:00:00 2001
From: Ezra Chung <88335979+eramongodb@users.noreply.github.com>
Date: Fri, 8 Mar 2024 13:09:07 -0600
Subject: [PATCH] CDRIVER-5504 Use pointer-based iteration when traversing
 array elements (#1552)

Origin: https://github.com/mongodb/mongo-c-driver/commit/effd95c34ad421df94eec7c69236f0e4172552d0
---
 src/libbson/src/bson/bson-string.c | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/libbson/src/bson/bson-string.c b/src/libbson/src/bson/bson-string.c
index 36c4c5ab49..958fd10666 100644
--- a/src/libbson/src/bson/bson-string.c
+++ b/src/libbson/src/bson/bson-string.c
@@ -473,11 +473,11 @@ bson_strndup (const char *str, /* IN */
 void
 bson_strfreev (char **str) /* IN */
 {
-   int i;
-
    if (str) {
-      for (i = 0; str[i]; i++)
-         bson_free (str[i]);
+      for (char **ptr = str; *ptr != NULL; ++ptr) {
+         bson_free (*ptr);
+      }
+
       bson_free (str);
    }
 }
-- 
2.39.5

