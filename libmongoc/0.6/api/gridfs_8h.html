<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MongoDBCDriver: gridfs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>gridfs.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>GridFS declarations.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="mongo_8h_source.html">mongo.h</a>&quot;</code><br/>

<p><a href="gridfs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgridfs.html">gridfs</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgridfile.html">gridfile</a></td></tr>
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac839dfa1a1da3c3c50817b4d94717ff0"></a><!-- doxytag: member="gridfs.h::gridfs_offset" ref="ac839dfa1a1da3c3c50817b4d94717ff0" args="" -->
typedef uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>gridfs_offset</b></td></tr>
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom">{ <b>DEFAULT_CHUNK_SIZE</b> =  256 * 1024
 }</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14430e508b8822831461dfcb052f9126"></a><!-- doxytag: member="gridfs.h::gridfs_create" ref="a14430e508b8822831461dfcb052f9126" args="()" -->
MONGO_EXPORT <a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>gridfs_create</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a674256d9e76330828db23594842b1b29"></a><!-- doxytag: member="gridfs.h::gridfs_dispose" ref="a674256d9e76330828db23594842b1b29" args="(gridfs *gfs)" -->
MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><b>gridfs_dispose</b> (<a class="el" href="structgridfs.html">gridfs</a> *gfs)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04d622c01fd943504bead42ac1e8ea42"></a><!-- doxytag: member="gridfs.h::gridfile_create" ref="a04d622c01fd943504bead42ac1e8ea42" args="()" -->
MONGO_EXPORT <a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>gridfile_create</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a44b0dc4c7cd69c0627ddc95d5dfd0b30"></a><!-- doxytag: member="gridfs.h::gridfile_dispose" ref="a44b0dc4c7cd69c0627ddc95d5dfd0b30" args="(gridfile *gf)" -->
MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><b>gridfile_dispose</b> (<a class="el" href="structgridfile.html">gridfile</a> *gf)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab36bf37bdb7c0f358684bda40b86bffc"></a><!-- doxytag: member="gridfs.h::gridfile_get_descriptor" ref="ab36bf37bdb7c0f358684bda40b86bffc" args="(gridfile *gf, bson *out)" -->
MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><b>gridfile_get_descriptor</b> (<a class="el" href="structgridfile.html">gridfile</a> *gf, <a class="el" href="structbson.html">bson</a> *out)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a11c959d6c97cf4de65821b3c28a13291">gridfs_init</a> (<a class="el" href="structmongo.html">mongo</a> *client, const char *dbname, const char *prefix, <a class="el" href="structgridfs.html">gridfs</a> *gfs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a GridFS object.  <a href="#a11c959d6c97cf4de65821b3c28a13291"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a61f19cf17a4016485655ad5e84a93770">gridfs_destroy</a> (<a class="el" href="structgridfs.html">gridfs</a> *gfs)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys a GridFS object.  <a href="#a61f19cf17a4016485655ad5e84a93770"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#aaab564ecbd78300010a3a78503975154">gridfile_writer_init</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, <a class="el" href="structgridfs.html">gridfs</a> *gfs, const char *remote_name, const char *content_type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a gridfile for writing incrementally with gridfs_write_buffer.  <a href="#aaab564ecbd78300010a3a78503975154"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a8641a99ceae8a6572021d061c80d0189">gridfile_write_buffer</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, const char *data, gridfs_offset length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write to a GridFS file incrementally.  <a href="#a8641a99ceae8a6572021d061c80d0189"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a0fdebb423ac46f96e3af9bb3b563745f">gridfile_writer_done</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Signal that writing of this gridfile is complete by writing any buffered chunks along with the entry in the files collection.  <a href="#a0fdebb423ac46f96e3af9bb3b563745f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#add547f7c54046e7025bc6f4b7e8692bf">gridfs_store_buffer</a> (<a class="el" href="structgridfs.html">gridfs</a> *gfs, const char *data, gridfs_offset length, const char *remotename, const char *contenttype)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store a buffer as a GridFS file.  <a href="#add547f7c54046e7025bc6f4b7e8692bf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#aa30f83e6535e47a5409c176c66aa67b1">gridfs_store_file</a> (<a class="el" href="structgridfs.html">gridfs</a> *gfs, const char *filename, const char *remotename, const char *contenttype)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open the file referenced by filename and store it as a GridFS file.  <a href="#aa30f83e6535e47a5409c176c66aa67b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a3dd1c70052d3e7f7b8166a2c642130de">gridfs_remove_filename</a> (<a class="el" href="structgridfs.html">gridfs</a> *gfs, const char *filename)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Removes the files referenced by filename from the db.  <a href="#a3dd1c70052d3e7f7b8166a2c642130de"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#ad017e351ad87f008248cc28d474e5fc0">gridfs_find_query</a> (<a class="el" href="structgridfs.html">gridfs</a> *gfs, <a class="el" href="structbson.html">bson</a> *query, <a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the first file matching the provided query within the GridFS files collection, and return the file as a GridFile.  <a href="#ad017e351ad87f008248cc28d474e5fc0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#ae1673f785af9f7b07d73b4f8ee868206">gridfs_find_filename</a> (<a class="el" href="structgridfs.html">gridfs</a> *gfs, const char *filename, <a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Find the first file referenced by filename within the GridFS and return it as a GridFile.  <a href="#ae1673f785af9f7b07d73b4f8ee868206"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a95b5131dda5d1bc8dc86dbe3160b907d">gridfile_init</a> (<a class="el" href="structgridfs.html">gridfs</a> *gfs, <a class="el" href="structbson.html">bson</a> *meta, <a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a GridFile containing the GridFS and file bson.  <a href="#a95b5131dda5d1bc8dc86dbe3160b907d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a143e27f35d4a1cc99f5318bdb3b94776">gridfile_destroy</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroys the GridFile.  <a href="#a143e27f35d4a1cc99f5318bdb3b94776"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT bson_bool_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a4a13de28f042bfa3f0393e1e5afff75e">gridfile_exists</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns whether or not the GridFile exists.  <a href="#a4a13de28f042bfa3f0393e1e5afff75e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a449496371ac6c6c986e8f8c81b563675">gridfile_get_filename</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the filename of GridFile.  <a href="#a449496371ac6c6c986e8f8c81b563675"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#af0f320715698e3abcf69292271b51242">gridfile_get_chunksize</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the size of the chunks of the GridFile.  <a href="#af0f320715698e3abcf69292271b51242"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT gridfs_offset&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#ac401a724d6b0d41df4f3a59897dd2a1f">gridfile_get_contentlength</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the length of GridFile's data.  <a href="#ac401a724d6b0d41df4f3a59897dd2a1f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a8adcb93a09203ae983d1e29ee1cdcd00">gridfile_get_contenttype</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the MIME type of the GridFile.  <a href="#a8adcb93a09203ae983d1e29ee1cdcd00"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT bson_date_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a38367d4c464dd3fef33609683901d98e">gridfile_get_uploaddate</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the upload date of GridFile.  <a href="#a38367d4c464dd3fef33609683901d98e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a043ce45967bcea7430edbc63fd6bc464">gridfile_get_md5</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the MD5 of GridFile.  <a href="#a043ce45967bcea7430edbc63fd6bc464"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a35d6084417040e7e5beed7d06d2f0c30">gridfile_get_field</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, const char *name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the field in GridFile specified by name.  <a href="#a35d6084417040e7e5beed7d06d2f0c30"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bson_bool_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#abb01c0c6e2ec67d926b73d059d652fa7">gridfile_get_boolean</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, const char *name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a boolean field in GridFile specified by name.  <a href="#abb01c0c6e2ec67d926b73d059d652fa7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a69dfbd43e0eee0e64ca1ed6513cfc545">gridfile_get_metadata</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, <a class="el" href="structbson.html">bson</a> *out)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the metadata of GridFile.  <a href="#a69dfbd43e0eee0e64ca1ed6513cfc545"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a92d87ef7ff9170b281f3232eb900a265">gridfile_get_numchunks</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the number of chunks in the GridFile.  <a href="#a92d87ef7ff9170b281f3232eb900a265"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a470a5b251de72b521f732c159c3bdd05">gridfile_get_chunk</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, int n, <a class="el" href="structbson.html">bson</a> *out)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns chunk n of GridFile.  <a href="#a470a5b251de72b521f732c159c3bdd05"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT <a class="el" href="structmongo__cursor.html">mongo_cursor</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a2849ca71e2262385fda29fc8502a5863">gridfile_get_chunks</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, int start, int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a <a class="el" href="structmongo__cursor.html">mongo_cursor</a> of *size* chunks starting with chunk *start*.  <a href="#a2849ca71e2262385fda29fc8502a5863"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT gridfs_offset&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a56560bd393f727ee0e2dbd061cadd909">gridfile_write_file</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, FILE *stream)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes the GridFile to a stream.  <a href="#a56560bd393f727ee0e2dbd061cadd909"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT gridfs_offset&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#ab43566cd2d9e7e98a6672d320b6f32ca">gridfile_read</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, gridfs_offset size, char *buf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads length bytes from the GridFile to a buffer and updates the position in the file.  <a href="#ab43566cd2d9e7e98a6672d320b6f32ca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MONGO_EXPORT gridfs_offset&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="gridfs_8h.html#a61d8e85285232497899ff6e176e30a6d">gridfile_seek</a> (<a class="el" href="structgridfile.html">gridfile</a> *gfile, gridfs_offset offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Updates the position in the file (If the offset goes beyond the contentlength, the position is updated to the end of the file.  <a href="#a61d8e85285232497899ff6e176e30a6d"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>GridFS declarations. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a143e27f35d4a1cc99f5318bdb3b94776"></a><!-- doxytag: member="gridfs.h::gridfile_destroy" ref="a143e27f35d4a1cc99f5318bdb3b94776" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT void gridfile_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys the GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>oGridFIle</em>&nbsp;</td><td>- the GridFile being destroyed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4a13de28f042bfa3f0393e1e5afff75e"></a><!-- doxytag: member="gridfs.h::gridfile_exists" ref="a4a13de28f042bfa3f0393e1e5afff75e" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT bson_bool_t gridfile_exists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns whether or not the GridFile exists. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the GridFile being examined </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abb01c0c6e2ec67d926b73d059d652fa7"></a><!-- doxytag: member="gridfs.h::gridfile_get_boolean" ref="abb01c0c6e2ec67d926b73d059d652fa7" args="(gridfile *gfile, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bson_bool_t gridfile_get_boolean </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a boolean field in GridFile specified by name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>- the name of the field to be returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the boolean of the field specified (NULL if none exists) </dd></dl>

</div>
</div>
<a class="anchor" id="a470a5b251de72b521f732c159c3bdd05"></a><!-- doxytag: member="gridfs.h::gridfile_get_chunk" ref="a470a5b251de72b521f732c159c3bdd05" args="(gridfile *gfile, int n, bson *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT void gridfile_get_chunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbson.html">bson</a> *&nbsp;</td>
          <td class="paramname"> <em>out</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns chunk n of GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the nth chunk of the Gridfile </dd></dl>

</div>
</div>
<a class="anchor" id="a2849ca71e2262385fda29fc8502a5863"></a><!-- doxytag: member="gridfs.h::gridfile_get_chunks" ref="a2849ca71e2262385fda29fc8502a5863" args="(gridfile *gfile, int start, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT <a class="el" href="structmongo__cursor.html">mongo_cursor</a>* gridfile_get_chunks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a <a class="el" href="structmongo__cursor.html">mongo_cursor</a> of *size* chunks starting with chunk *start*. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start</em>&nbsp;</td><td>- the first chunk in the cursor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>- the number of chunks to be returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- <a class="el" href="structmongo__cursor.html">mongo_cursor</a> of the chunks (must be destroyed after use) </dd></dl>

</div>
</div>
<a class="anchor" id="af0f320715698e3abcf69292271b51242"></a><!-- doxytag: member="gridfs.h::gridfile_get_chunksize" ref="af0f320715698e3abcf69292271b51242" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfile_get_chunksize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the size of the chunks of the GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the size of the chunks of the Gridfile </dd></dl>

</div>
</div>
<a class="anchor" id="ac401a724d6b0d41df4f3a59897dd2a1f"></a><!-- doxytag: member="gridfs.h::gridfile_get_contentlength" ref="ac401a724d6b0d41df4f3a59897dd2a1f" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT gridfs_offset gridfile_get_contentlength </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the length of GridFile's data. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the length of the Gridfile's data </dd></dl>

</div>
</div>
<a class="anchor" id="a8adcb93a09203ae983d1e29ee1cdcd00"></a><!-- doxytag: member="gridfs.h::gridfile_get_contenttype" ref="a8adcb93a09203ae983d1e29ee1cdcd00" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT const char* gridfile_get_contenttype </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the MIME type of the GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the MIME type of the Gridfile (NULL if no type specified) </dd></dl>

</div>
</div>
<a class="anchor" id="a35d6084417040e7e5beed7d06d2f0c30"></a><!-- doxytag: member="gridfs.h::gridfile_get_field" ref="a35d6084417040e7e5beed7d06d2f0c30" args="(gridfile *gfile, const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* gridfile_get_field </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the field in GridFile specified by name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>- the name of the field to be returned</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the data of the field specified (NULL if none exists) </dd></dl>

</div>
</div>
<a class="anchor" id="a449496371ac6c6c986e8f8c81b563675"></a><!-- doxytag: member="gridfs.h::gridfile_get_filename" ref="a449496371ac6c6c986e8f8c81b563675" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT const char* gridfile_get_filename </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the filename of GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the filename of the Gridfile </dd></dl>

</div>
</div>
<a class="anchor" id="a043ce45967bcea7430edbc63fd6bc464"></a><!-- doxytag: member="gridfs.h::gridfile_get_md5" ref="a043ce45967bcea7430edbc63fd6bc464" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT const char* gridfile_get_md5 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the MD5 of GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the MD5 of the Gridfile </dd></dl>

</div>
</div>
<a class="anchor" id="a69dfbd43e0eee0e64ca1ed6513cfc545"></a><!-- doxytag: member="gridfs.h::gridfile_get_metadata" ref="a69dfbd43e0eee0e64ca1ed6513cfc545" args="(gridfile *gfile, bson *out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT void gridfile_get_metadata </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbson.html">bson</a> *&nbsp;</td>
          <td class="paramname"> <em>out</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the metadata of GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the metadata of the Gridfile in a bson object (an empty bson is returned if none exists) </dd></dl>

</div>
</div>
<a class="anchor" id="a92d87ef7ff9170b281f3232eb900a265"></a><!-- doxytag: member="gridfs.h::gridfile_get_numchunks" ref="a92d87ef7ff9170b281f3232eb900a265" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfile_get_numchunks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the number of chunks in the GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the number of chunks in the Gridfile </dd></dl>

</div>
</div>
<a class="anchor" id="a38367d4c464dd3fef33609683901d98e"></a><!-- doxytag: member="gridfs.h::gridfile_get_uploaddate" ref="a38367d4c464dd3fef33609683901d98e" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT bson_date_t gridfile_get_uploaddate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the upload date of GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the upload date of the Gridfile </dd></dl>

</div>
</div>
<a class="anchor" id="a95b5131dda5d1bc8dc86dbe3160b907d"></a><!-- doxytag: member="gridfs.h::gridfile_init" ref="a95b5131dda5d1bc8dc86dbe3160b907d" args="(gridfs *gfs, bson *meta, gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfile_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbson.html">bson</a> *&nbsp;</td>
          <td class="paramname"> <em>meta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes a GridFile containing the GridFS and file bson. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>- the GridFS where the GridFile is located </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>meta</em>&nbsp;</td><td>- the file object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the output GridFile that is being initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- MONGO_OK or MONGO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="ab43566cd2d9e7e98a6672d320b6f32ca"></a><!-- doxytag: member="gridfs.h::gridfile_read" ref="ab43566cd2d9e7e98a6672d320b6f32ca" args="(gridfile *gfile, gridfs_offset size, char *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT gridfs_offset gridfile_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gridfs_offset&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads length bytes from the GridFile to a buffer and updates the position in the file. </p>
<p>(assumes the buffer is large enough) (if size is greater than EOF gridfile_read reads until EOF)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>- the amount of bytes to be read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>- the buffer to read to</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- the number of bytes read </dd></dl>

</div>
</div>
<a class="anchor" id="a61d8e85285232497899ff6e176e30a6d"></a><!-- doxytag: member="gridfs.h::gridfile_seek" ref="a61d8e85285232497899ff6e176e30a6d" args="(gridfile *gfile, gridfs_offset offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT gridfs_offset gridfile_seek </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gridfs_offset&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Updates the position in the file (If the offset goes beyond the contentlength, the position is updated to the end of the file. </p>
<p>)</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>- the position to update to</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- resulting offset location </dd></dl>

</div>
</div>
<a class="anchor" id="a8641a99ceae8a6572021d061c80d0189"></a><!-- doxytag: member="gridfs.h::gridfile_write_buffer" ref="a8641a99ceae8a6572021d061c80d0189" args="(gridfile *gfile, const char *data, gridfs_offset length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT void gridfile_write_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gridfs_offset&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write to a GridFS file incrementally. </p>
<p>You can call this function any number of times with a new buffer each time. This allows you to effectively stream to a GridFS file. When finished, be sure to call gridfs_writer_done. </p>

</div>
</div>
<a class="anchor" id="a56560bd393f727ee0e2dbd061cadd909"></a><!-- doxytag: member="gridfs.h::gridfile_write_file" ref="a56560bd393f727ee0e2dbd061cadd909" args="(gridfile *gfile, FILE *stream)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT gridfs_offset gridfile_write_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&nbsp;</td>
          <td class="paramname"> <em>stream</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the GridFile to a stream. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the working GridFile </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>- the file stream to write to </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0fdebb423ac46f96e3af9bb3b563745f"></a><!-- doxytag: member="gridfs.h::gridfile_writer_done" ref="a0fdebb423ac46f96e3af9bb3b563745f" args="(gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfile_writer_done </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Signal that writing of this gridfile is complete by writing any buffered chunks along with the entry in the files collection. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>- MONGO_OK or MONGO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="aaab564ecbd78300010a3a78503975154"></a><!-- doxytag: member="gridfs.h::gridfile_writer_init" ref="aaab564ecbd78300010a3a78503975154" args="(gridfile *gfile, gridfs *gfs, const char *remote_name, const char *content_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT void gridfile_writer_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>remote_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>content_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes a gridfile for writing incrementally with gridfs_write_buffer. </p>
<p>Once initialized, you can write any number of buffers with gridfs_write_buffer. When done, you must call gridfs_writer_done to save the file metadata. </p>

</div>
</div>
<a class="anchor" id="a61f19cf17a4016485655ad5e84a93770"></a><!-- doxytag: member="gridfs.h::gridfs_destroy" ref="a61f19cf17a4016485655ad5e84a93770" args="(gridfs *gfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT void gridfs_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destroys a GridFS object. </p>
<p>Call this when finished with the object..</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>a grid </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae1673f785af9f7b07d73b4f8ee868206"></a><!-- doxytag: member="gridfs.h::gridfs_find_filename" ref="ae1673f785af9f7b07d73b4f8ee868206" args="(gridfs *gfs, const char *filename, gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfs_find_filename </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the first file referenced by filename within the GridFS and return it as a GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>- the working GridFS </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>- filename of the file to find </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the output GridFile to be intialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MONGO_OK or MONGO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="ad017e351ad87f008248cc28d474e5fc0"></a><!-- doxytag: member="gridfs.h::gridfs_find_query" ref="ad017e351ad87f008248cc28d474e5fc0" args="(gridfs *gfs, bson *query, gridfile *gfile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfs_find_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbson.html">bson</a> *&nbsp;</td>
          <td class="paramname"> <em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgridfile.html">gridfile</a> *&nbsp;</td>
          <td class="paramname"> <em>gfile</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find the first file matching the provided query within the GridFS files collection, and return the file as a GridFile. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>- the working GridFS </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>query</em>&nbsp;</td><td>- a pointer to the bson with the query data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gfile</em>&nbsp;</td><td>- the output GridFile to be initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>MONGO_OK if successful, MONGO_ERROR otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a11c959d6c97cf4de65821b3c28a13291"></a><!-- doxytag: member="gridfs.h::gridfs_init" ref="a11c959d6c97cf4de65821b3c28a13291" args="(mongo *client, const char *dbname, const char *prefix, gridfs *gfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfs_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmongo.html">mongo</a> *&nbsp;</td>
          <td class="paramname"> <em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>dbname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes a GridFS object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>client</em>&nbsp;</td><td>- db connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dbname</em>&nbsp;</td><td>- database name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>prefix</em>&nbsp;</td><td>- collection prefix, default is fs if NULL or empty </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>- the GridFS object to initialize</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- MONGO_OK or MONGO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="a3dd1c70052d3e7f7b8166a2c642130de"></a><!-- doxytag: member="gridfs.h::gridfs_remove_filename" ref="a3dd1c70052d3e7f7b8166a2c642130de" args="(gridfs *gfs, const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT void gridfs_remove_filename </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Removes the files referenced by filename from the db. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>- the working GridFS </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>- the filename of the file/s to be removed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="add547f7c54046e7025bc6f4b7e8692bf"></a><!-- doxytag: member="gridfs.h::gridfs_store_buffer" ref="add547f7c54046e7025bc6f4b7e8692bf" args="(gridfs *gfs, const char *data, gridfs_offset length, const char *remotename, const char *contenttype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfs_store_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gridfs_offset&nbsp;</td>
          <td class="paramname"> <em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>remotename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>contenttype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store a buffer as a GridFS file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>- the working GridFS </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>- pointer to buffer to store in GridFS </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>- length of the buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remotename</em>&nbsp;</td><td>- filename for use in the database </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contenttype</em>&nbsp;</td><td>- optional MIME type for this object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- MONGO_OK or MONGO_ERROR. </dd></dl>

</div>
</div>
<a class="anchor" id="aa30f83e6535e47a5409c176c66aa67b1"></a><!-- doxytag: member="gridfs.h::gridfs_store_file" ref="aa30f83e6535e47a5409c176c66aa67b1" args="(gridfs *gfs, const char *filename, const char *remotename, const char *contenttype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MONGO_EXPORT int gridfs_store_file </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgridfs.html">gridfs</a> *&nbsp;</td>
          <td class="paramname"> <em>gfs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>remotename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>contenttype</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open the file referenced by filename and store it as a GridFS file. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>gfs</em>&nbsp;</td><td>- the working GridFS </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>- local filename relative to the process </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>remotename</em>&nbsp;</td><td>- optional filename for use in the database </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>contenttype</em>&nbsp;</td><td>- optional MIME type for this object</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>- MONGO_OK or MONGO_ERROR. </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Jun 3 2012 07:45:51 for MongoDBCDriver by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
